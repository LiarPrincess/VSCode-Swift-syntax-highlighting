{
  "information_for_contributors": [
    "Based on https://github.com/microsoft/vscode/blob/main/extensions/swift/syntaxes/swift.tmLanguage.json",
    "",
    "Modified 'literals-string' section:",
    "- changed 'name: string.quoted.double.*' -> 'name: meta.embedded.*' to prevent yellow foreground.",
    "- changed '#literals-string-raw-string-guts' -> 'source.swift#literals-string-raw-string-guts'.",
    "- added the 'include: text.html.basic' to get HTML syntax highlighting.",
    "",
    "Use this extension for formatting:",
    "https://marketplace.visualstudio.com/items?itemName=RedCMD.tmlanguage-syntax-highlighter"
  ],
  "scopeName": "injection.swift",
  "injectionSelector": "L:source -comment -string.quoted.double",
  "patterns": [
    {
      "comment": "Multiline SQL starting with ###.",
      "name": "meta.embedded.block.sql.swift",
      "begin": "(###)\"\"\"",
      "end": "\"\"\"\\1(#*)",
      "beginCaptures": { "0": { "name": "punctuation.definition.sql.begin.swift" } },
      "endCaptures": {
        "0": { "name": "punctuation.definition.sql.end.swift" },
        "1": { "name": "invalid.illegal.extra-closing-delimiter.swift" }
      },
      "patterns": [
        { "include": "#no-illegal-input-after-triple-quote" },
        { "include": "#sql-guts" }
      ]
    },
    {
      "comment": "Multiline HTML starting with # or ##.",
      "name": "meta.embedded.block.html.swift",
      "begin": "(##?)\"\"\"",
      "end": "\"\"\"\\1(#*)",
      "beginCaptures": { "0": { "name": "punctuation.definition.html.begin.swift" } },
      "endCaptures": {
        "0": { "name": "punctuation.definition.html.end.swift" },
        "1": { "name": "invalid.illegal.extra-closing-delimiter.swift" }
      },
      "patterns": [
        { "include": "#no-illegal-input-after-triple-quote" },
        { "include": "#html-guts" }
      ]
    },
    {
      "comment": "Single line SQL starting with ###.",
      "name": "meta.embedded.single-line.html.swift",
      "begin": "(###)\"",
      "end": "\"\\1(#*)",
      "beginCaptures": { "0": { "name": "punctuation.definition.sql.begin.raw.swift" } },
      "endCaptures": {
        "0": { "name": "punctuation.definition.sql.end.raw.swift" },
        "1": { "name": "invalid.illegal.extra-closing-delimiter.swift" }
      },
      "patterns": [ { "include": "#sql-guts" } ]
    },
    {
      "comment": "Single line HTML starting with # or ##.",
      "name": "meta.embedded.single-line.html.swift",
      "begin": "(##?)\"",
      "end": "\"\\1(#*)",
      "beginCaptures": { "0": { "name": "punctuation.definition.html.begin.raw.swift" } },
      "endCaptures": {
        "0": { "name": "punctuation.definition.html.end.raw.swift" },
        "1": { "name": "invalid.illegal.extra-closing-delimiter.swift" }
      },
      "patterns": [ { "include": "#html-guts" } ]
    }
  ],
  "repository": {
    "no-illegal-input-after-triple-quote": {
      "name": "invalid.illegal.content-after-opening-delimiter.swift",
      "match": "\\G.+(?=\"\"\")|\\G.+"
    },
    "html-guts": {
      "patterns": [
        {
          "comment": "\\#(variable)",
          "include": "source.swift#literals-string-raw-string-guts"
        },
        {
          "comment": "The whole HTML grammar.",
          "include": "text.html.basic"
        }
      ]
    },
    "sql-guts": {
      "patterns": [
        {
          "comment": "\\#(variable)",
          "include": "source.swift#literals-string-raw-string-guts"
        },
        {
          "comment": "The whole SQL grammar.",
          "include": "source.sql"
        }
      ]
    }
  }
}
